<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>JianMin-Xie的博客</title>
  <icon>https://www.gravatar.com/avatar/a92ada1fe196269fac3b83d6d401ca7c</icon>
  <subtitle>有道无术，术尚可求。有术无道，止于术。</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://jianmin-xie.github.io/"/>
  <updated>2020-03-07T13:13:06.109Z</updated>
  <id>https://jianmin-xie.github.io/</id>
  
  <author>
    <name>JianMin-Xie</name>
    <email>854377742@qq.com</email>
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>让我们来看一下TCP的连接和释放过程</title>
    <link href="https://jianmin-xie.github.io/2020/03/09/%E8%AE%A9%E6%88%91%E4%BB%AC%E6%9D%A5%E7%9C%8B%E4%B8%80%E4%B8%8BTCP%E7%9A%84%E8%BF%9E%E6%8E%A5%E5%92%8C%E9%87%8A%E6%94%BE%E8%BF%87%E7%A8%8B/"/>
    <id>https://jianmin-xie.github.io/2020/03/09/%E8%AE%A9%E6%88%91%E4%BB%AC%E6%9D%A5%E7%9C%8B%E4%B8%80%E4%B8%8BTCP%E7%9A%84%E8%BF%9E%E6%8E%A5%E5%92%8C%E9%87%8A%E6%94%BE%E8%BF%87%E7%A8%8B/</id>
    <published>2020-03-09T09:11:54.946Z</published>
    <updated>2020-03-07T13:13:06.109Z</updated>
    
    <content type="html"><![CDATA[<h2 id="三次握手的过程"><a href="#三次握手的过程" class="headerlink" title="三次握手的过程"></a>三次握手的过程</h2><p>1）主机A向主机B发送TCP连接请求数据包，其中包含主机A的初始序列号seq(A)=x。（其中报文中同步标志位SYN=1，ACK=0，表示这是一个TCP连接请求数据报文；序号seq=x，表明传输数据时的第一个数据字节的序号是x）；</p><p>2）主机B收到请求后，会发回连接确认数据包。（其中确认报文段中，标识位SYN=1，ACK=1，表示这是一个TCP连接响应数据报文，并含主机B的初始序列号seq(B)=y，以及主机B对主机A初始序列号的确认号ack(B)=seq(A)+1=x+1）</p><p>3）第三次，主机A收到主机B的确认报文后，还需作出确认，即发送一个序列号seq(A)=x+1；确认号为ack(A)=y+1的报文；</p><p><img src="https://uploadfiles.nowcoder.com/images/20180927/308572_1538027722640_EBFE71FE6E03CBB1AAE38A25DC56AFB2" alt=""></p><h2 id="四次挥手过程"><a href="#四次挥手过程" class="headerlink" title="四次挥手过程"></a>四次挥手过程</h2><p>假设主机A为客户端，主机B为服务器，其释放TCP连接的过程如下：<br>1） 关闭客户端到服务器的连接：首先客户端A发送一个FIN，用来关闭客户到服务器的数据传送，然后等待服务器的确认。其中终止标志位FIN=1，序列号seq=u。<br>2） 服务器收到这个FIN，它发回一个ACK，确认号ack为收到的序号加1。<br>3） 关闭服务器到客户端的连接：也是发送一个FIN给客户端。</p><p>4） 客户段收到FIN后，并发回一个ACK报文确认，并将确认序号seq设置为收到序号加1。 首先进行关闭的一方将执行主动关闭，而另一方执行被动关闭。</p><p><img src="https://uploadfiles.nowcoder.com/images/20180927/308572_1538027843891_F17231DF387BA79A4CCC2E7CDD1C110E" alt=""></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;三次握手的过程&quot;&gt;&lt;a href=&quot;#三次握手的过程&quot; class=&quot;headerlink&quot; title=&quot;三次握手的过程&quot;&gt;&lt;/a&gt;三次握手的过程&lt;/h2&gt;&lt;p&gt;1）主机A向主机B发送TCP连接请求数据包，其中包含主机A的初始序列号seq(A)=x。（其中报文中
      
    
    </summary>
    
    
    
  </entry>
  
</feed>
